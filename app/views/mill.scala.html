
@import de.htwg.se.NineMensMorris.model.FieldStatus
@(controller:de.htwg.se.NineMensMorris.controller.controllerComponent.ControllerInterface)
@board= @{ controller.gameboardToString.replaceAll("[\\r\\n]","<br>").replaceAll(" ","&nbsp;&nbsp;") }
@currentPlayer= @{ controller.playerOnTurn }
@size = @{ controller.getVertexList.size }
@list = @{ controller.getVertexList }
@fieldStatus(field: Int) = @{
    controller.getField(field) match {
        case Some(value) =>
            if (value.fieldStatus == FieldStatus.White) "white"
            else if(value.fieldStatus == FieldStatus.Black) "black"
            else "empty"
    }
}
@fieldType(field: Int) = @{
    if((field >= 0 && field < 3) || (field >= 21 & field < 24)) "row1"
    else if ((field >= 3 && field < 6) || (field >= 18 & field < 21)) "row2"
    else if ((field >= 6 && field < 9) || (field >= 15 & field < 18)) "row3"
    else "row4"
}

@main("Nine Mens Morris") {
    <link rel="stylesheet" href='@routes.Assets.versioned("stylesheets/main.css")' />


    <h1>Welcome to Nine Mens Morris!</h1>
    <div class="gamecontainer">
        <div class="game">
            <!--@{ Html.apply(board) }-->
            <br>
            @for(index <- 0 until size) {
                <div class="@{"field " + fieldStatus(index) + " " + fieldType(index)}">
                    @list(index)
                </div>
                @if(index == 2 || index == 5 || index == 8 || index == 14 ||
                        index == 17 || index == 20 || index == 23) {
                    <div class="clear"></div>
                }

            }
        </div>
        <div class="playerOnTurn">
            <br>
            @{ currentPlayer }
        </div>
    </div>
}